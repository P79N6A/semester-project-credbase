{% extends "base.html" %}

{% block main %}
    <div>
        <form id="loginform" action={{url_for('login')}} method="post">
            <h3>Login to CRED base</h3>
            <p><label>Username: <input type="text" name="username" required pattern="^\w+$"></label></p>
            <p><label>Password: <input type="password" name="password" required></label></p>
            <p><button type="submit">Submit</button></p>
        </form>
    </div>
    
    <div>
        <form id="joinform" action={{url_for('join')}} method="post">
            <h3>Or alternatively join CRED base</h3>
            <p><label><input type="text" name="name"> Name</label></p>
            <p><label><input type="text" name="username" required pattern="^\w+$"> Username</label></p>
            <p><label><input type="password" name="password1" required> Password </label></p>
            <p><label><input type="password" name="password2" required> Password again </label></p>
            <p><button type="submit">Submit</button></p>
        </form>
    </div>
    
    
    <script src="https://code.jquery.com/jquery.js"></script>
    <script>
    /*global $*/
    $("#joinform").on('submit', function (event) {
         var pw1 = $(this).find('[name=password1]').val();
         var pw2 = $(this).find('[name=password2]').val();
         // should also check for length and common words etc
         if( pw1 != pw2 ) {
             // something more sophisticated than alert would be nice
             alert("passwords don't match");
         }
    });
    </script>

{% endblock %}
 